function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,r,n){return r&&_defineProperties(e.prototype,r),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}!function(e,r){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(e="undefined"!=typeof globalThis?globalThis:e||self).uaBrowser=r()}(this,(function(){"use strict";var e={};"undefined"!=typeof navigator&&(e=navigator);var r,n=e.userAgent||"",o=e.mimeTypes,i=e.platform,a={Trident:/(Trident|NET CLR)/,Presto:/Presto/,WebKit:/AppleWebKit/,Gecko:/Gecko\//,KHTML:/KHTML\//},t={Safari:/Safari/,Chrome:/(Chrome|CriOS)/,IE:/(MSIE|Trident)/,Edge:/(Edge|Edg\/|EdgA|EdgiOS)/,Firefox:/(Firefox|FxiOS)/,"Firefox Focus":/Focus/,Chromium:/Chromium/,Opera:/(Opera|OPR|OPT)/,Vivaldi:/Vivaldi/,Yandex:/YaBrowser/,Arora:/Arora/,Lunascape:/Lunascape/,QupZilla:/QupZilla/,"Coc Coc":/coc_coc_browser/,Kindle:/(Kindle|Silk\/)/,Iceweasel:/Iceweasel/,Konqueror:/Konqueror/,Iceape:/Iceape/,SeaMonkey:/SeaMonkey/,Epiphany:/Epiphany/,360:/(QihooBrowser|QHBrowser)/,"360EE":/360EE/,"360SE":/360SE/,UC:/(UCBrowser|UBrowser|UCWEB)/,QQBrowser:/QQBrowser/,QQ:/QQ\//,Baidu:/(Baidu|BIDUBrowser|baidubrowser|baiduboxapp|BaiduHD)/,Maxthon:/Maxthon/,Sogou:/(MetaSr|Sogou)/,Liebao:/(LBBROWSER|LieBaoFast)/,"2345Explorer":/2345Explorer/,"115Browser":/115Browser/,TheWorld:/TheWorld/,XiaoMi:/MiuiBrowser/,Vivo:/VivoBrowser/,Huawei:/HuaweiBrowser/,OPPO:/HeyTapBrowser/,Quark:/Quark/,Qiyu:/Qiyu/,Wechat:/MicroMessenger/,WechatWork:/wxwork\//,Taobao:/AliApp\(TB/,Alipay:/AliApp\(AP/,Weibo:/Weibo/,Douban:/com\.douban\.frodo/,Suning:/SNEBUY-APP/,iQiYi:/IqiyiApp/,DingTalk:/DingTalk/,Douyin:/aweme/},u={Windows:/Windows/,Linux:/(Linux|X11)/,MacOS:/Macintosh/,Android:/(Android|Adr)/,HarmonyOS:/HarmonyOS/,Ubuntu:/Ubuntu/,FreeBSD:/FreeBSD/,Debian:/Debian/,"Windows Phone":/(IEMobile|Windows Phone)/,BlackBerry:/(BlackBerry|RIM)/,MeeGo:/MeeGo/,Symbian:/Symbian/,iOS:/like Mac OS X/,"Chrome OS":/CrOS/,WebOS:/hpwOS/},c={Mobile:/(Mobi|iPh|480)/,Tablet:/(Tablet|Pad|Nexus 7)/},s={isWebview:/; wv/},l={os:Object.keys(u),device:Object.keys(c),engine:Object.keys(a),browser:Object.keys(t)},p=function(e){try{return!!o.namedItem(e)}catch(e){return!1}},d=function(e,r){for(var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,i=e.length;i--;){var a=e[i];if(r[a].test(o))return a}return"unknown"};(null==e?void 0:e.userAgentData)&&e.userAgentData.getHighEntropyValues(["platformVersion"]).then((function(n){if("Windows"===e.userAgentData.platform){var o=parseInt(n.platformVersion.split(".")[0]);r=o>=13?"11":"10"}}));var f=function(){var r;return null===(r=e.browserLanguage||e.language)||void 0===r?void 0:r.replace(/-\w+/g,(function(e){return e.toUpperCase()}))},$=function(){return"undefined"!=typeof __wxjs_environment&&"miniprogram"===__wxjs_environment},w=function(e){return s.isWebview.test(e)},h=new(function(){function o(e){var r=this;_classCallCheck(this,o),this.ua=n,this.version={Safari:function(){return r.ua.replace(/^.*Version\/([\d.]+).*$/,"$1")},Chrome:function(){return r.ua.replace(/^.*Chrome\/([\d.]+).*$/,"$1").replace(/^.*CriOS\/([\d.]+).*$/,"$1")},IE:function(){return r.ua.replace(/^.*MSIE ([\d.]+).*$/,"$1").replace(/^.*rv:([\d.]+).*$/,"$1")},Edge:function(){return r.ua.replace(/^.*Edge\/([\d.]+).*$/,"$1").replace(/^.*Edg\/([\d.]+).*$/,"$1").replace(/^.*EdgA\/([\d.]+).*$/,"$1").replace(/^.*EdgiOS\/([\d.]+).*$/,"$1")},Firefox:function(){return r.ua.replace(/^.*Firefox\/([\d.]+).*$/,"$1").replace(/^.*FxiOS\/([\d.]+).*$/,"$1")},"Firefox Focus":function(){return r.ua.replace(/^.*Focus\/([\d.]+).*$/,"$1")},Chromium:function(){return r.ua.replace(/^.*Chromium\/([\d.]+).*$/,"$1")},Opera:function(){return r.ua.replace(/^.*Opera\/([\d.]+).*$/,"$1").replace(/^.*OPR\/([\d.]+).*$/,"$1").replace(/^.*OPT\/([\d.]+).*$/,"$1")},Vivaldi:function(){return r.ua.replace(/^.*Vivaldi\/([\d.]+).*$/,"$1")},Yandex:function(){return r.ua.replace(/^.*YaBrowser\/([\d.]+).*$/,"$1")},Arora:function(){return r.ua.replace(/^.*Arora\/([\d.]+).*$/,"$1")},Lunascape:function(){return r.ua.replace(/^.*Lunascape[\s]([\d.]+).*$/,"$1")},QupZilla:function(){return r.ua.replace(/^.*QupZilla[\s]([\d.]+).*$/,"$1")},"Coc Coc":function(){return r.ua.replace(/^.*coc_coc_browser\/([\d.]+).*$/,"$1")},Kindle:function(){return r.ua.replace(/^.*Version\/([\d.]+).*$/,"$1")},Iceweasel:function(){return r.ua.replace(/^.*Iceweasel\/([\d.]+).*$/,"$1")},Konqueror:function(){return r.ua.replace(/^.*Konqueror\/([\d.]+).*$/,"$1")},Iceape:function(){return r.ua.replace(/^.*Iceape\/([\d.]+).*$/,"$1")},SeaMonkey:function(){return r.ua.replace(/^.*SeaMonkey\/([\d.]+).*$/,"$1")},Epiphany:function(){return r.ua.replace(/^.*Epiphany\/([\d.]+).*$/,"$1")},Maxthon:function(){return r.ua.replace(/^.*Maxthon\/([\d.]+).*$/,"$1")},QQBrowser:function(){return r.ua.replace(/^.*QQBrowser\/([\d.]+).*$/,"$1")},QQ:function(){return r.ua.replace(/^.*QQ\/([\d.]+).*$/,"$1")},Baidu:function(){return r.ua.replace(/^.*BIDUBrowser[\s/]([\d.]+).*$/,"$1").replace(/^.*baiduboxapp\/([\d.]+).*$/,"$1")},UC:function(){return r.ua.replace(/^.*UC?Browser\/([\d.]+).*$/,"$1")},Sogou:function(){return r.ua.replace(/^.*SE ([\d.X]+).*$/,"$1").replace(/^.*SogouMobileBrowser\/([\d.]+).*$/,"$1")},TheWorld:function(){return r.ua.replace(/^.*TheWorld ([\d.]+).*$/,"$1")},XiaoMi:function(){return r.ua.replace(/^.*MiuiBrowser\/([\d.]+).*$/,"$1")},Vivo:function(){return r.ua.replace(/^.*VivoBrowser\/([\d.]+).*$/,"$1")},OPPO:function(){return r.ua.replace(/^.*HeyTapBrowser\/([\d.]+).*$/,"$1")},Quark:function(){return r.ua.replace(/^.*Quark\/([\d.]+).*$/,"$1")},Qiyu:function(){return r.ua.replace(/^.*Qiyu\/([\d.]+).*$/,"$1")},Wechat:function(){return r.ua.replace(/^.*MicroMessenger\/([\d.]+).*$/,"$1")},WechatWork:function(){return r.ua.replace(/^.*wxwork\/([\d.]+).*$/,"$1")},Taobao:function(){return r.ua.replace(/^.*AliApp\(TB\/([\d.]+).*$/,"$1")},Alipay:function(){return r.ua.replace(/^.*AliApp\(AP\/([\d.]+).*$/,"$1")},Weibo:function(){return r.ua.replace(/^.*weibo__([\d.]+).*$/,"$1")},Douban:function(){return r.ua.replace(/^.*com.douban.frodo\/([\d.]+).*$/,"$1")},Suning:function(){return r.ua.replace(/^.*SNEBUY-APP([\d.]+).*$/,"$1")},iQiYi:function(){return r.ua.replace(/^.*IqiyiVersion\/([\d.]+).*$/,"$1")},DingTalk:function(){return r.ua.replace(/^.*DingTalk\/([\d.]+).*$/,"$1")},Huawei:function(){return r.ua.replace(/^.*Version\/([\d.]+).*$/,"$1").replace(/^.*HuaweiBrowser\/([\d.]+).*$/,"$1")},Douyin:function(){return r.ua.replace(/^.*app_version\/([\d.]+).*$/,"$1")},"115Browser":function(){return r.ua.replace(/^.*115Browser\/([\d.]+).*$/,"$1")},360:function(){return r.ua.replace(/^.*QihooBrowser\/([\d.]+).*$/,"$1")},"360SE":function(){return{108:"14.0",86:"13.0",78:"12.0",69:"11.0",63:"10.0",55:"9.1",45:"8.1",42:"8.0",31:"7.0",21:"6.3"}[r.getChromeVars()]||""},"360EE":function(){return{86:"13.0",78:"12.0",69:"11.0",63:"9.5",55:"9.0",50:"8.7",30:"7.5"}[r.getChromeVars()]||""},"2345Explorer":function(){return{69:"10.0",55:"9.9"}[r.getChromeVars()]||r.ua.replace(/^.*2345Explorer\/([\d.]+).*$/,"$1").replace(/^.*Mb2345Browser\/([\d.]+).*$/,"$1")},Liebao:function(){var e="";/LieBaoFast/.test(r.ua)&&(e=r.ua.replace(/^.*LieBaoFast\/([\d.]+).*$/,"$1"));var n=r.getChromeVars();return e||{57:"6.5",49:"6.0",46:"5.9",42:"5.3",39:"5.2",34:"5.0",29:"4.5",21:"4.0"}[n]||""}},this.osVersion={Android:function(){return r.ua.replace(/^.*Android ([\d.]+);.*$/,"$1")},iOS:function(){return r.ua.replace(/^.*OS ([\d_]+) like.*$/,"$1").replace(/_/g,".")},Debian:function(){return r.ua.replace(/^.*Debian\/([\d.]+).*$/,"$1")},"Windows Phone":function(){return r.ua.replace(/^.*Windows Phone( OS)? ([\d.]+);.*$/,"$2")},MacOS:function(){return r.ua.replace(/^.*Mac OS X -?([\d_]+).*$/,"$1").replace(/_/g,".")},WebOS:function(){return r.ua.replace(/^.*hpwOS\/([\d.]+);.*$/,"$1")},HarmonyOS:function(){return{10:"2"}[r.ua.replace(/^Mozilla.*Android ([\d.]+)[;)].*$/,"$1")]||""},Windows:function(){var e=r.ua.replace(/^Mozilla\/\d.0 \(Windows NT ([\d.]+);.*$/,"$1");return{10:"10",6.4:"10",6.3:"8.1",6.2:"8",6.1:"7","6.0":"Vista",5.2:"XP",5.1:"XP","5.0":"2000"}[e]||parseInt(e).toString()}},this.getChromeVars=function(){return r.ua.replace(/^.*Chrome\/([\d]+).*$/,"$1")},this.setUA(e)}return _createClass(o,[{key:"getOs",value:function(){return d(l.os,u,this.ua)}},{key:"getEngine",value:function(){return d(l.engine,a,this.ua)}},{key:"getBrowser",value:function(){return d(l.browser,t,this.ua)}},{key:"getDevice",value:function(){if("MacIntel"===i&&e.maxTouchPoints>1)return"Tablet";var r=d(l.device,c,this.ua);return"unknown"===r?"PC":r}},{key:"setUA",value:function(e){"string"!=typeof e?(console.warn("Parameter must be of type string."),this.ua=n):this.ua=e}},{key:"getEnv",value:function(n){var o,a;this.setUA(n);var u={version:"unknown",osVersion:"unknown",engine:this.getEngine(),browser:this.getBrowser(),os:this.getOs(),device:this.getDevice(),isWebview:w(this.ua),language:null!==(o=f())&&void 0!==o?o:"unknown",platfrom:null!=i?i:"unknown"},c=u.browser,s=!1;if("undefined"!=typeof chrome){var d=this.getChromeVars();chrome.adblock2345||chrome.common2345?u.browser="2345Explorer":p("application/360softmgrplugin")||p("application/mozilla-npqihooquicklogin")||d>"36"&&"undefined"!=typeof showModalDialog?s=!0:d>"45"&&!(s=p("application/vnd.chromium.remoting-viewer"))&&d>="69"&&(s=p("application/hwepass2001.installepass2001")||p("application/asx"))}return"Mobile"===u.device&&/iPad/.test(this.ua)?u.device="Tablet":s&&(c=p("application/gameplugin")||!(null===(a=null==e?void 0:e.connection)||void 0===a?void 0:a.saveData)?"360SE":"360EE"),l.browser.indexOf(c)>=l.browser.indexOf(u.browser)&&(u.browser=c),"Baidu"===u.browser&&t.Opera.test(this.ua)&&(u.browser="Opera"),u.os in this.osVersion&&(u.osVersion=this.osVersion[u.os](),u.osVersion===this.ua&&(u.osVersion="unknown")),"Windows"===u.os&&r&&(u.osVersion=r),u.browser in this.version&&(u.version=this.version[u.browser](),u.version===this.ua&&(u.version="unknown")),"Chrome"===u.browser&&this.ua.match(/\S+Browser/)?(u.browser=this.ua.match(/\S+Browser/)[0],u.version=this.ua.replace(/^.*Browser\/([\d.]+).*$/,"$1")):"Firefox"!==u.browser||"undefined"==typeof clientInformation&&"undefined"!=typeof u2f?"Wechat"===u.browser&&$()&&(u.browser="Wechat Miniapp"):u.browser="".concat(u.browser," Nightly"),"Edge"===u.browser?u.engine=parseInt(u.version)>75?"Blink":"EdgeHTML":(t.Chrome.test(this.ua)&&"WebKit"===u.engine&&parseInt(this.version.Chrome())>27||"Opera"===u.browser&&parseInt(u.version)>12||"Yandex"===u.browser)&&(u.engine="Blink"),u}}]),o}());function b(e){return h.getEnv(e)}return b.isWebview=w,b.isWechatMiniapp=$,b.getLanguage=f,b.VERSION="0.1.5",b}));
